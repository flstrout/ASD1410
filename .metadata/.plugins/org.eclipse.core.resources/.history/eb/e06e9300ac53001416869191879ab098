var list = [];

// Home Screen Table Header
var headView = Ti.UI.createView({ // Base View
	backgroundColor: "#bf0c0c"
});

var headLabel = Ti.UI.createLabel({ // Label applied to the Base View
	text: "OPEN OPPORTUNITIES",
	color: "#ffcc00",
	font: {fontWeight: "bold"},
	left: 5
});

headView.add(headLabel);

var tableSection = Ti.UI.createTableViewSection({ // Set the Sections Header to the headView variable
	headerView: headView
});

list.push(tableSection);

var db = require("database");

// Populate the Sections with Data
for (o in db.tblOpportunities){ 
	var sectionDetail = Ti.UI.createTableViewRow({
		customer: db.tblOpportunities[o].customer,
		opportunity: db.tblOpportunities[o].problem,
		hasChild: true,
		backgroundColor: "#eee"
	});
	var customerLabel = Ti.UI.createLabel({
		text: db.tblOpportunities[o].customer
	});
	
	var opportunityLabel = Ti.UI.createLabel({
		text: db.tblOpportunities[o].problem
	});
	
	sectionDetail.add(customerLabel, opportunityLabel);
	tableSection.add(sectionDetail);
};

opportunities.setData(list);
opportunities.add(tableSection);
tableWindow.add(opportunities);
